#!/bin/bash

SCRIPT_PATH=$(readlink -f "${BASH_SOURCE[0]}")
SCRIPT_DIR=$(dirname "$SCRIPT_PATH")

PWNBOX_CONFIG="${SCRIPT_DIR}/pwnbox-config.json"
PWNBOX_HELPER="${SCRIPT_DIR}/pwnbox-helper.sh"

source "$PWNBOX_HELPER" || exit
prepare_env || exit
check_root || exit
check_internet_access || exit

update_system || exit
install_apt_packages || exit
install_ruby_packages || exit
install_python_packages || exit
configure_smb_share || exit

# install_snap
configure_terminator
configure_metasploit
configure_xfce
download_misc_binaries
download_or_update_git_repositories
download_or_update_git_releases
configure_aliases
configure_symlinks
update_file_database